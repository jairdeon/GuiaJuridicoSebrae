!function(t,e){"use strict";function a(a,r,s){this.element=a,this.url=r,this.id=this.url.hashCode(),this.options=t.extend({},n,s),this.cache=e.sessionStorage[i+this.id],this.init()}var r='<a href="{{tweet_url}}"><span>{{tweet}}</span><time datetime="{{created_at_iso}}" title="{{created_at_formatted}}">{{created_at_formatted}}</time></a>',i="jquery-tweets",n={doneCallback:null,tmpl_tweet:r};a.prototype.init=function(){var a=this;e.JSON&&e.Storage&&void 0!==this.cache?this.output(t.parseJSON(this.cache)):t.ajax({dataType:"jsonp",success:function(t){e.JSON&&e.Storage&&(e.sessionStorage[i+a.id]=JSON.stringify(t)),a.output(t)},url:a.url})},a.prototype.output=function(e){var a=this,r=t("<ul />");t.each(e,function(e,i){var n=t("<li />"),s=a.options.tmpl_tweet,o=a.createdAt(i.created_at),c=o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate(),u=a.createdAtISO(o);s=s.replace(/\{\{tweet_url\}\}/g,"https://twitter.com/"+i.user.screen_name+"/status/"+i.id_str).replace(/\{\{tweet\}\}/g,i.text).replace(/\{\{created_at\}\}/g,i.created_at).replace(/\{\{created_at_iso\}\}/g,u).replace(/\{\{created_at_formatted\}\}/g,c).replace(/\{\{profile_image_url\}\}/g,i.user.profile_image_url).replace(/\{\{screen_name\}\}/g,i.user.screen_name).replace(/\{\{profile_image_url\}\}/g,i.user.profile_image_url),n.append(t(s)).appendTo(r)}),r.appendTo(t(this.element)),t.isFunction(this.options.doneCallback)&&this.options.doneCallback.call(this.element)},a.prototype.createdAt=function(t){var e=t.split(" ");return new Date(e[1]+" "+e[2]+", "+e[5]+" "+e[3])},a.prototype.createdAtISO=function(t){function e(t){return 10>t?"0"+t:t}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"Z"},t.fn.tweets=function(e,r){return this.each(function(){t.data(this,"plugin_"+i)||(t.data(this,"plugin_"+i,!0),new a(this,e,r))})},String.prototype.hashCode=function(){var t,e,a=0;if(0===this.length)return a;for(t=0;t<this.length;t++)e=this.charCodeAt(t),a=(a<<5)-a+e,a&=a;return Math.abs(a)}}(jQuery,window);